<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="HW 4 Part 1: Native Dialogs">
    <meta name="author" content="Joanne Wu">
    <title>Simple Dialogs?</title>
  </head>
  <body>
    <h1>Simple Dialogs?</h1>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.0.8/purify.min.js"></script>
    <button id="alert" type="button">Alert</button>
    <script>
      const alertButton = document.getElementById("alert");
      alertButton.addEventListener("click", ()=>{
        result.innerHTML = "";
        result.style = "";
        alert('Alert pressed!');
      });
    </script>

    <button id="confirm" type="button">Confirm</button>
    <script>
      const confirmButton = document.getElementById("confirm");
      confirmButton.addEventListener("click", function() {
        let retVal = confirm("Do you confirm this?");
        let result = document.getElementById("result");
        result.style = "border-style: double; padding: 5px";
        if (retVal == true) {
          result.innerHTML = "Confirm result: true";
        } 
        else {
          result.innerHTML = "Confirm result: false";
        }
      });
    </script>

    <button id="prompt" type="button">Prompt</button>
    <script>
      const promptButton = document.getElementById("prompt");
      promptButton.addEventListener("click", function() {
        let retVal = prompt("What is your name?");
        let result = document.getElementById("result");
        result.style = "border-style: double; padding: 5px";
        if (retVal == null || retVal == "") {
          result.innerHTML = "Prompt result: User didn't enter anything";
        } 
        else {
          result.innerHTML = `Prompt result: ${retVal}`;
        }
      });
    </script>
    
    <button id="safer" type="button">Safer Prompt</button>
    <script>
      const saferPromptButton = document.getElementById("safer");
      saferPromptButton.addEventListener("click", function() {
        let retVal = prompt("What is your name?");
        let result = document.getElementById("result");
        result.style = "border-style: double; padding: 5px";
        if (retVal == null || retVal == "") {
          result.innerHTML = "Prompt result: User didn't enter anything";
        } 
        else {
          let clean = DOMPurify.sanitize(retVal);
          result.innerHTML = `Prompt result: ${clean}`;
        }
      });
    </script>
    <br>
    <hr>
    <br>
    <output id="result"></output>
  </body>
</html>
